"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var taro=require("../../taro/index.js"),mobxCommon=require("../../mobx-common/index.js"),mobx=require("../../../mobx/lib/mobx.js");function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _get(e,t,o){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,o){var r=_superPropBase(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(o):n.value}})(e,t,o||e)}function createStoreInjector(r,e,t){var o=function(){function o(e,t){return _classCallCheck(this,o),_possibleConstructorReturn(this,_getPrototypeOf(o).call(this,Object.assign.apply(Object,Array.prototype.slice.call(arguments).concat([mobxCommon.mapStoreToProps(r,e)])),t))}return _inherits(o,t),_createClass(o,[{key:"_constructor",value:function(){Object.assign(this.props,mobxCommon.mapStoreToProps(r,this.props)),_get(_getPrototypeOf(o.prototype),"_constructor",this)&&_get(_getPrototypeOf(o.prototype),"_constructor",this).call(this,this.props)}}]),o}();return _defineProperty(o,"isMobxInjector",!0),_defineProperty(o,"displayName",mobxCommon.getInjectName(t,e)),o}function inject(){return mobxCommon.inject.apply(void 0,Array.prototype.slice.call(arguments).concat([createStoreInjector]))}function observer(e){if(mobxCommon.isUsingStaticRendering())return e;!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'");var t=e.prototype,o=t._constructor;t._constructor=function(){var e=this;if(this.$scope){var t=this.displayName||this.name;this._reaction=new mobx.Reaction("".concat(t,"_").concat(Date.now()),function(){e.componentWillReact&&e.componentWillReact(),e.forceUpdate()})}o&&o.call(this,this.props)};var r=t.componentWillUnmount;t.componentWillUnmount=function(){this._reaction.dispose(),r&&r.call(this)};var s=t._createData;return t._createData=function(){for(var e,t,o=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];if(this._reaction instanceof mobx.Reaction?this._reaction.track(function(){try{e=s.call(o,null,null,n[2])}catch(e){t=e}}):e=s.call(this,null,null,n[2]),t)throw mobxCommon.errorsReporter.emit(t),t;return e},e}var Provider=function e(){_classCallCheck(this,e)};function useLocalStore(e,t){return mobxCommon.useLocalStore(e,t,taro.useState)}function useAsObservableSource(e){return mobxCommon.useAsObservableSource(e,taro.useState)}var index={PropTypes:mobxCommon.PropTypes,onError:mobxCommon.onError,getStore:mobxCommon.getStore,setStore:mobxCommon.setStore,inject:inject,observer:observer,Provider:Provider,useLocalStore:useLocalStore,useAsObservableSource:useAsObservableSource,isUsingStaticRendering:mobxCommon.isUsingStaticRendering,useStaticRendering:mobxCommon.useStaticRendering};exports.PropTypes=mobxCommon.PropTypes,exports.onError=mobxCommon.onError,exports.getStore=mobxCommon.getStore,exports.setStore=mobxCommon.setStore,exports.isUsingStaticRendering=mobxCommon.isUsingStaticRendering,exports.useStaticRendering=mobxCommon.useStaticRendering,exports.default=index,exports.inject=inject,exports.observer=observer,exports.Provider=Provider,exports.useLocalStore=useLocalStore,exports.useAsObservableSource=useAsObservableSource;